<!DOCTYPE html>
<html>
    <meta charset="UTF-8" />
    <head>
        <!--<script src="./glicko2.js"></script>-->
        <script src="https://www.gstatic.com/firebasejs/7.18.0/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.18.0/firebase-firestore.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.18.0/firebase-database.js"></script>

        <script type="text/javascript">



let aPPG;

(function(exports){
    var scalingFactor = 173.7178;

    function Race(results){
        this.matches = this.computeMatches(results);
    }
    Race.prototype.getMatches = function(){
        return this.matches;
    };
    Race.prototype.computeMatches = function(results){
        var players = [];
        var position = 0;

        results.forEach(function (rank) {
            position += 1;
            rank.forEach(function (player) {
                players.push({"player": player, "position": position});
            })
        })

        function computeMatches(players){
            if (players.length === 0) return [];

            var player1 = players.shift()
            var player1_results  = players.map(function(player2){
                return [player1.player, player2.player, (player1.position < player2.position) ? 1 : 0.5];
            });

            return player1_results.concat(computeMatches(players));
        }

        return computeMatches(players)
    }

    function Player(rating, rd , vol, tau){
        this._tau = tau; 

        this.setRating(rating);
        this.setRd(rd);
        this.setVol(vol);
    }

    Player.prototype.getRating = function (){
        return this.__rating * scalingFactor + this.defaultRating;
    };

    Player.prototype.setRating = function (rating){
        this.__rating = (rating - this.defaultRating) / scalingFactor;
    };  

    /*var docRef = db.collection("currentadjustment").doc("cadjustment");
    docRef.get().then(async function(doc) {
        if(doc.exists) {
            aPPG=doc.data().adjustment;
        } else {
            // doc.data() will be undefined in this case
            console.log("No such document!"+"cadjustment");
        }
    }).catch(function(error) {
        console.log("Error getting document:", error);
    });*/

    Player.prototype.getRd = function(){
        //console.log("SF, aPPG, aSF", scalingFactor, aPPG, scalingFactor*aPPG);
        //scalingFactor = 173.7178*aPPG;
        return this.__rd * (scalingFactor);
    };

    Player.prototype.setRd = function(rd){
        //console.log("SF, aPPG, aSF", scalingFactor, aPPG, scalingFactor*aPPG)
        this.__rd = rd / (scalingFactor);
    };

    Player.prototype.getVol = function(){
        return this.__vol;
    };

    Player.prototype.setVol = function(vol){
        this.__vol = vol;
    };

    Player.prototype.addResult = function(opponent, outcome){
        this.adv_ranks.push(opponent.__rating);
        this.adv_rds.push(opponent.__rd);
        this.outcomes.push(outcome);
    };

    // Calculates the new rating and rating deviation of the player.
    // Follows the steps of the algorithm described at http://www.glicko.net/glicko/glicko2.pdf
    Player.prototype.update_rank = function(){
        if (!this.hasPlayed()){
            //console.log(this);
            // Applies only the Step 6 of the algorithm
            this._preRatingRD();
            return;
        }
        //console.log(this);

        //Step 1 : done by Player initialization
        //Step 2 : done by setRating and setRd

        //Step 3
        var v = this._variance();

        //Step 4
        var delta = this._delta(v);

        //Step 5
        this.__vol = this.volatility_algorithm(v, delta);

        //Step 6
        this._preRatingRD();

        //Step 7
        this.__rd = (1 / Math.sqrt((1 / Math.pow(this.__rd, 2)) + (1 / v)));

        var tempSum = 0;
        for (var i=0,len = this.adv_ranks.length;i< len;i++){
            tempSum += this._g(this.adv_rds[i]) * (this.outcomes[i] - this._E(this.adv_ranks[i], this.adv_rds[i]));
        }
        //console.log("tS, aPPG, aPPG2 atS",tempSum,aPPG,Math.pow(aPPG,3),tempSum*(Math.pow(aPPG,2)));
        this.__rating += Math.pow(this.__rd, 2) * (tempSum * aPPG);

        //Step 8 : done by getRating and getRd
    };

    Player.prototype.hasPlayed = function(){
        return this.outcomes.length > 0;
    };

    // Calculates and updates the player's rating deviation for the beginning of a rating period.
    // preRatingRD() -> None
    Player.prototype._preRatingRD = function(){
        this.__rd = Math.sqrt(Math.pow(this.__rd, 2) + Math.pow(this.__vol, 2));
    };


    // Calculation of the estimated variance of the player's rating based on game outcomes
    Player.prototype._variance = function (){
        var tempSum = 0;
        for (var i = 0, len = this.adv_ranks.length;i<len;i++){
            var tempE = this._E(this.adv_ranks[i], this.adv_rds[i]);
            tempSum += Math.pow(this._g(this.adv_rds[i]), 2) * tempE * (1 - tempE);
        }
        return 1 / tempSum;
    };

    // The Glicko E function.
    Player.prototype._E = function (p2rating, p2RD){
        return 1 / (1 + Math.exp(-1 * this._g(p2RD) *  (this.__rating - p2rating)));
    };

    // The Glicko2 g(RD) function.
    Player.prototype._g = function(RD){
        return (1 / Math.sqrt(1 + 3 * Math.pow(RD, 2) / Math.pow(Math.PI, 2)));
    };

    // The delta function of the Glicko2 system.
    // Calculation of the estimated improvement in rating (step 4 of the algorithm)
    Player.prototype._delta = function(v){
        var tempSum = 0;
        for (var i = 0, len = this.adv_ranks.length;i<len;i++){
            tempSum += this._g(this.adv_rds[i]) * (this.outcomes[i] - this._E(this.adv_ranks[i], this.adv_rds[i]));
        }
        return v * tempSum;
    };

    Player.prototype._makef = function(delta, v, a){
        var pl = this;
        return function(x){
            return Math.exp(x) * (Math.pow(delta, 2) - Math.pow(pl.__rd, 2) - v - Math.exp(x)) / (2*Math.pow(Math.pow(pl.__rd, 2) + v + Math.exp(x), 2)) - (x - a) / Math.pow(pl._tau, 2);
        };
    };

    //=========================  Glicko2 class =============================================
    function Glicko2(settings){
        settings = settings || {};

        // Internal glicko2 parameter. "Reasonable choices are between 0.3 and
        // 1.2, though the system should be tested to decide which value results
        // in greatest predictive accuracy."
        this._tau = settings.tau || 0.5;

        // Default rating
        this._default_rating = settings.rating || 1500;

        // Default rating deviation (small number = good confidence on the
        // rating accuracy)
        this._default_rd = settings.rd || 350;

        // Default volatility (expected fluctation on the player rating)
        this._default_vol = settings.vol || 0.06;

        // Default volatility calculation algorithm (step 5 of the global
        // algorithm)
        this._volatility_algorithm = volatility_algorithms[settings.volatility_algorithm || 'newprocedure'];

        this.players = [];
        this.players_index = 0;
    }

    Glicko2.prototype.makeRace = function(results){
        return new Race(results);
    };

    Glicko2.prototype.removePlayers = function() {
        this.players = [];
        this.players_index = 0;
    };

    Glicko2.prototype.getPlayers = function(){
        return this.players;
    };

    Glicko2.prototype.cleanPreviousMatches = function(){
        for (var i = 0, len = this.players.length; i < len;i++){
            this.players[i].adv_ranks = [];
            this.players[i].adv_rds = [];
            this.players[i].outcomes = [];
            //console.log(i,this.players[i].adv_ranks,this.players[i].id);
        }
        matches = [];
    };

    Glicko2.prototype.calculatePlayersRatings = function(){
        var keys = Object.keys(this.players);
        for (var i=0, len = keys.length;i<len;i++){
            this.players[keys[i]].update_rank();
        }
    };

    /** 
     * Add players and match result to be taken in account for the new rankings calculation
     * players must have ids, they are not created if it has been done already.
     * @param {Object litteral} pl1 The first player
     * @param {Object litteral} pl2 The second player
     * @param {number} outcom The outcome : 0 = defeat, 1 = victory, 0.5 = draw
     */
      Glicko2.prototype.addMatch = function(player1, player2, outcome){
          var pl1 = this._createInternalPlayer(player1.rating, player1.rd, player1.vol, player1.id);
          var pl2 = this._createInternalPlayer(player2.rating, player2.rd, player2.vol, player2.id);
          this.addResult(pl1, pl2, outcome);
          return {pl1:pl1, pl2:pl2};
      };

      Glicko2.prototype.makePlayer = function (rating, rd , vol) {
          //We do not expose directly createInternalPlayer in order to prevent the assignation of a custom player id whose uniqueness could not be guaranteed
          return this._createInternalPlayer(rating, rd, vol);
      };

      Glicko2.prototype._createInternalPlayer = function (rating, rd , vol, id){
          if (id === undefined){
              id = this.players_index;
              this.players_index = this.players_index + 1;
          } else {
              //We check if the player has already been created
              var candidate = this.players[id];
              if (candidate !== undefined){
                  return candidate;
              }
          }
          var player = new Player(rating || this._default_rating, rd || this._default_rd, vol || this._default_vol, this._tau);
          var playerProto = Object.getPrototypeOf(player);

          // Set this specific Player's `defaultRating`. This _has_ to be done
          // here in order to ensure that new `Glicko2` instances do not change
          // the `defaultRating` of `Player` instances created under previous
          // `Glicko2` instances.
          playerProto.defaultRating = this._default_rating;

          // Same reasoning and purpose as the above code regarding
          // `defaultRating`
          playerProto.volatility_algorithm = this._volatility_algorithm;

          // Since this `Player`'s rating was calculated upon instantiation,
          // before the `defaultRating` was defined above, we much re-calculate
          // the rating manually.
          player.setRating(rating || this._default_rating);

          player.id = id;
          player.adv_ranks = [];
          player.adv_rds = [];
          player.outcomes = [];
          this.players[id] = player;
          return player;
      };

      /** 
       * Add a match result to be taken in account for the new rankings calculation
       * @param {Player} player1 The first player
       * @param {Player} player2 The second player
       * @param {number} outcome The outcome : 0 = defeat, 1 = victory, 0.5 = draw
       */
        //TODO -- somewhere around here we probably need to do T/S implementation
        Glicko2.prototype.addResult = function(player1, player2, outcome){
            player1.addResult(player2, outcome);
            player2.addResult(player1, 1 - outcome);
        };

        Glicko2.prototype.updateRatings = function(matches){
            if(matches instanceof Race){
                matches = matches.getMatches();
            }
            if (typeof(matches) !== 'undefined'){
                for (var i=0, len = matches.length;i<len;i++){
                    var match = matches[i];
                    this.addResult(match[0], match[1], match[2]);
                }
            }
            this.calculatePlayersRatings();
            this.cleanPreviousMatches();
        };

        //============== VOLATILITY ALGORITHMS (Step 5 of the global glicko2 algorithm)
        var volatility_algorithms = {
            oldprocedure: function(v, delta) {
                var sigma = this.__vol;
                var phi = this.__rd;
                var tau = this._tau;

                var a, x1, x2, x3, y1, y2, y3, upper;
                var result;

                upper = find_upper_falsep(phi, v, delta, tau);

                a = Math.log(Math.pow(sigma, 2));
                y1 = equation(phi, v, 0, a, tau, delta);
                if (y1 > 0 ){
                    result = upper;
                } else {
                    x1 = 0;
                    x2 = x1;
                    y2 = y1;
                    x1 = x1 - 1;
                    y1 = equation(phi, v, x1, a, tau, delta);
                    while (y1 < 0){
                        x2 = x1;
                        y2 = y1;
                        x1 = x1 - 1;
                        y1 = equation(phi, v, x1, a, tau, delta);
                    }
                    for (var i = 0; i<21; i++){
                        x3 = y1 * (x1 - x2) / (y2 - y1) + x1;
                        y3 = equation(phi, v, x3, a, tau, delta);
                        if (y3 > 0 ){
                            x1 = x3;
                            y1 = y3;
                        } else {
                            x2 = x3;
                            y2 = y3;
                        }
                    }
                    if (Math.exp((y1 * (x1 - x2) / (y2 - y1) + x1) / 2) > upper ){
                        result = upper;
                    } else {
                        result = Math.exp((y1 * (x1 - x2) / (y2 - y1) + x1) / 2);
                    }
                }
                return result;

                function new_sigma(sigma , phi , v , delta , tau ) {
                    var a = Math.Math.log(Math.pow(sigma, 2));
                    var x = a;
                    var old_x = 0;
                    while (x != old_x){
                        old_x = x;
                        var d = Math.pow(phi, 2) + v + Math.exp(old_x);
                        var h1 = -(old_x - a) / Math.pow(tau, 2) - 0.5 * Math.exp(old_x) / d + 0.5 * Math.exp(old_x) * Math.pow((delta / d), 2);
                        var h2 = -1 / Math.pow(tau, 2) - 0.5 * Math.exp(old_x) * (Math.pow(phi, 2) + v) / Math.pow(d, 2) + 0.5 * Math.pow(delta, 2) * Math.exp(old_x) * (Math.pow(phi, 2) + v - Math.exp(old_x)) / Math.pow(d, 3);
                        x = old_x - h1 / h2;
                    }
                    return  Math.exp(x / 2);
                }

                function equation(phi , v , x , a , tau , delta) {
                    var d = Math.pow(phi, 2) + v + Math.exp(x);
                    return -(x - a) / Math.pow(tau, 2) - 0.5 * Math.exp(x) / d + 0.5 * Math.exp(x) * Math.pow((delta / d), 2);
                }

                function new_sigma_bisection(sigma , phi , v , delta , tau ) {
                    var a, x1, x2, x3;
                    a = Math.Math.log(Math.pow(sigma, 2));
                    if (equation(phi, v, 0, a, tau, delta) < 0 ){
                        x1 = -1;
                        while (equation(phi, v, x1, a, tau, delta) < 0){
                            x1 = x1 - 1;
                        }
                        x2 = x1 + 1;
                    } else {
                        x2 = 1;
                        while (equation(phi, v, x2, a, tau, delta) > 0){
                            x2 = x2 + 1;
                        }
                        x1 = x2 - 1;
                    }

                    for (var i = 0; i < 27; i++) {
                        x3 = (x1 + x2) / 2;
                        if (equation(phi, v, x3, a, tau, delta) > 0 ){
                            x1 = x3;
                        } else {
                            x2 = x3;
                        }
                    }
                    return  Math.exp((x1 + x2)/ 4);
                }

                function Dequation(phi , v , x , tau , delta) {
                    d = Math.pow(phi, 2) + v + Math.exp(x);
                    return -1 / Math.pow(tau, 2) - 0.5 * Math.exp(x) / d + 0.5 * Math.exp(x) * (Math.exp(x) + Math.pow(delta, 2)) / Math.pow(d, 2) - Math.pow(Math.exp(x), 2) * Math.pow(delta, 2) / Math.pow(d, 3);
                }

                function find_upper_falsep(phi , v , delta , tau) {
                    var x1, x2, x3, y1, y2, y3;
                    y1 = Dequation(phi, v, 0, tau, delta);
                    if (y1 < 0 ){
                        return 1;
                    } else {
                        x1 = 0;
                        x2 = x1;
                        y2 = y1;
                        x1 = x1 - 1;
                        y1 = Dequation(phi, v, x1, tau, delta);
                        while (y1 > 0){
                            x2 = x1;
                            y2 = y1;
                            x1 = x1 - 1;
                            y1 = Dequation(phi, v, x1, tau, delta);
                        }
                        for (var i = 0; i < 21 ; i++){
                            x3 = y1 * (x1 - x2) / (y2 - y1) + x1;
                            y3 = Dequation(phi, v, x3, tau, delta);
                            if (y3 > 0 ){
                                x1 = x3;
                                y1 = y3;
                            } else {
                                x2 = x3;
                                y2 = y3;
                            }
                        }
                        return Math.exp((y1 * (x1 - x2) / (y2 - y1) + x1) / 2);
                    }
                }
            },
            newprocedure: function(v, delta){
                //Step 5.1
                var A = Math.log(Math.pow(this.__vol, 2));
                var f = this._makef(delta, v, A);
                var epsilon = 0.0000001;

                //Step 5.2
                var B, k;
                if (Math.pow(delta, 2) >  Math.pow(this.__rd, 2) + v){
                    B = Math.log(Math.pow(delta, 2) -  Math.pow(this.__rd, 2) - v);
                } else {
                    k = 1;
                    while (f(A - k * this._tau) < 0){
                        k = k + 1;
                    }
                    B = A - k * this._tau;
                }

                //Step 5.3
                var fA = f(A);
                var fB = f(B);

                //Step 5.4
                var C, fC;
                while (Math.abs(B - A) > epsilon){
                    C = A + (A - B) * fA /(fB - fA );
                    fC = f(C);
                    if (fC * fB < 0){
                        A = B;
                        fA = fB;
                    } else {
                        fA = fA / 2;
                    }
                    B = C;
                    fB = fC;
                }
                //Step 5.5
                return Math.exp(A/2);
            },
            newprocedure_mod: function(v, delta){
                //Step 5.1
                var A = Math.log(Math.pow(this.__vol, 2));
                var f = this._makef(delta, v, A);
                var epsilon = 0.0000001;

                //Step 5.2
                var B, k;
                //XXX mod
                if (delta >  Math.pow(this.__rd, 2) + v){
                    //XXX mod
                    B = Math.log(delta -  Math.pow(this.__rd, 2) - v);
                } else {
                    k = 1;
                    while (f(A - k * this._tau) < 0){
                        k = k + 1;
                    }
                    B = A - k * this._tau;
                }

                //Step 5.3
                var fA = f(A);
                var fB = f(B);

                //Step 5.4
                var C, fC;
                while (Math.abs(B - A) > epsilon){
                    C = A + (A - B) * fA /(fB - fA );
                    fC = f(C);
                    if (fC * fB < 0){
                        A = B;
                        fA = fB;
                    } else {
                        fA = fA / 2;
                    }
                    B = C;
                    fB = fC;
                }
                //Step 5.5
                return Math.exp(A/2);
            },
            oldprocedure_simple: function(v, delta){
                var i = 0;
                var a = Math.log(Math.pow(this.__vol, 2));
                var tau = this._tau;
                var x0 = a;
                var x1 = 0;
                var d,h1,h2;

                while (Math.abs(x0 - x1) > 0.00000001){
                    // New iteration, so x(i) becomes x(i-1)
                    x0 = x1;
                    d = Math.pow(this.__rating, 2) + v + Math.exp(x0);
                    h1 = -(x0 - a) / Math.pow(tau, 2) - 0.5 * Math.exp(x0) / d + 0.5 * Math.exp(x0) * Math.pow(delta / d, 2);
                    h2 = -1 / Math.pow(tau, 2) - 0.5 * Math.exp(x0) * (Math.pow(this.__rating, 2) + v) / Math.pow(d, 2) + 0.5 * Math.pow(delta, 2) * Math.exp(x0) * (Math.pow(this.__rating, 2) + v - Math.exp(x0)) / Math.pow(d, 3);
                    x1 = x0 - (h1 / h2);
                }

                return Math.exp(x1 / 2);
            }
        };
        //==== End of volatility algorithms

        exports.Glicko2 = Glicko2;

    })(typeof exports === 'undefined'? this['glicko2']={}: exports);


            var settings = {
              tau : 0.5,
              rating : 1500,
              rd : 200,
              vol : 0.06
            };

            var glicko = new glicko2.Glicko2(settings);

var WESTMINSTERA = glicko.makePlayer();
var CHATTAHOOCHEEA = glicko.makePlayer();
var HEWITTA = glicko.makePlayer();
var JOHNSCREEKA = glicko.makePlayer();
var GEORGEWALTONA = glicko.makePlayer();
var APALACHEEA = glicko.makePlayer();
var FULTONSCIENCEA = glicko.makePlayer();
var STARRSMILLA = glicko.makePlayer();
var STARRSMILLB = glicko.makePlayer();
var STARRSMILLC = glicko.makePlayer();

var MANATEEA = glicko.makePlayer();
var MANATEEB = glicko.makePlayer();
var RIVERVIEWA = glicko.makePlayer();
var RIVERVIEWB = glicko.makePlayer();
var HILLSBOROUGHA = glicko.makePlayer();
var HILLSBOROUGHB = glicko.makePlayer();
var LARGOA = glicko.makePlayer();
var LARGOB = glicko.makePlayer();
var TRINITYA = glicko.makePlayer();
var SAINTSTEPHENSA = glicko.makePlayer();

var MTSPOKANEA = glicko.makePlayer();
var MTSPOKANEB = glicko.makePlayer();
var EASTVALLEYA = glicko.makePlayer();

var RANSOMA = glicko.makePlayer();
var DORALA = glicko.makePlayer();
var DORALB = glicko.makePlayer();
var AUCA = glicko.makePlayer();
var PALMETTOA = glicko.makePlayer();
var PALMETTOB = glicko.makePlayer();
var PALMETTOC = glicko.makePlayer();
var PALMETTOD = glicko.makePlayer();
var PALMETTOE = glicko.makePlayer();
var PALMETTOF = glicko.makePlayer();
var PALMETTOG = glicko.makePlayer();
var PALMETTOH = glicko.makePlayer();
var PALMETTOI = glicko.makePlayer();

var MILLBURNA = glicko.makePlayer();
var MILLBURNB = glicko.makePlayer();
var HIGHTECHA = glicko.makePlayer();
var MORAVIANA = glicko.makePlayer();
var HEWLETTA = glicko.makePlayer();
var HEWLETTB = glicko.makePlayer();
var PRINCETONA = glicko.makePlayer();
var PRINCETONB = glicko.makePlayer();
var MOUNTAINLAKESA = glicko.makePlayer();
var RANNEYA = glicko.makePlayer();
var RANNEYB = glicko.makePlayer();
var KINNELONA = glicko.makePlayer();

var NICHOLSA = glicko.makePlayer();
var NICHOLSB = glicko.makePlayer();
var NICHOLSC = glicko.makePlayer();
var IROQUOISA = glicko.makePlayer();
var BISHOPLUDDENA = glicko.makePlayer();
var BISHOPLUDDENB = glicko.makePlayer();

var AMADORVALLEYA = glicko.makePlayer();
var AMERICANHERITAGEA = glicko.makePlayer();
var BASISSCOTTSDALEA = glicko.makePlayer();
var BOSTONLATINA = glicko.makePlayer();
var BUCHHOLZA = glicko.makePlayer();
var CALIFORNIA = glicko.makePlayer();
var CENTENNIALA = glicko.makePlayer();
var CENTENNIALB = glicko.makePlayer();
var DCEVERESTA = glicko.makePlayer();
var DCEVERESTB = glicko.makePlayer();
var DCEVERESTC = glicko.makePlayer();
var DCEVERESTD = glicko.makePlayer();
var DCEVERESTE = glicko.makePlayer();
var FAIRFAXCHRSITIANA = glicko.makePlayer();
var FOXCHAPELA = glicko.makePlayer();
var GROVETOWNA = glicko.makePlayer();
var HINGHAMA = glicko.makePlayer();
var JESUITA = glicko.makePlayer();
var METHUENA = glicko.makePlayer();
var MSJA = glicko.makePlayer();
var MSJB = glicko.makePlayer();
var NEWTONNORTHA = glicko.makePlayer();
var NEWTONNORTHB = glicko.makePlayer();
var NEWTONSOUTHA = glicko.makePlayer();
var ORATORYPREPA = glicko.makePlayer();
var PALOALTOA = glicko.makePlayer();
var PARAMUSA = glicko.makePlayer();
var SHAKERA = glicko.makePlayer();
var SHAKERB = glicko.makePlayer();
var SHAKERC = glicko.makePlayer();
var STUYVESANTA = glicko.makePlayer();
var MBA = glicko.makePlayer();
var TENAFLYA = glicko.makePlayer();
var VANNUYSA = glicko.makePlayer();

var IMSAA = glicko.makePlayer();
var JEFFERSONA = glicko.makePlayer();
var STEVENSONA = glicko.makePlayer();
var STEVENSONB = glicko.makePlayer();
var WINNEBAGOA = glicko.makePlayer();

var IOLANIA = glicko.makePlayer();
var IOLANIB = glicko.makePlayer();
var IOLANIC = glicko.makePlayer();
var IOLANID = glicko.makePlayer();
var IOLANIE = glicko.makePlayer();
var PUNAHOUA = glicko.makePlayer();
var PUNAHOUB = glicko.makePlayer();

var EPISCOPALBATONROUGEA = glicko.makePlayer();
var STEMACADEMYA = glicko.makePlayer();
var STEMACADEMYB = glicko.makePlayer();

            var players = [
                { name:'Westminster A', glicko: WESTMINSTERA },
                { name:'Chattahoochee A', glicko: CHATTAHOOCHEEA },
                { name:'Hewitt-Trussville A', glicko: HEWITTA },
                { name:'Johns Creek A', glicko: JOHNSCREEKA },
                { name:'George Walton A', glicko: GEORGEWALTONA },
                { name:'Apalachee A', glicko: APALACHEEA },
                { name:'Fulton Science A', glicko: FULTONSCIENCEA },
                { name:"Starr's Mill A", glicko: STARRSMILLA },
                { name:"Starr's Mill B", glicko: STARRSMILLB },
                { name:"Starr's Mill C", glicko: STARRSMILLC },
                { name:'Manatee A', glicko: MANATEEA },
                { name:'Manatee B', glicko: MANATEEB },
                { name:'Riverview A', glicko: RIVERVIEWA },
                { name:'Riverview B', glicko: RIVERVIEWB },
                { name:'Hillsborough A', glicko: HILLSBOROUGHA },
                { name:'Hillsborough B', glicko: HILLSBOROUGHB },
                { name:'Largo A', glicko: LARGOA },
                { name:"Largo B", glicko: LARGOB },
                { name:"Saint Stephen's A", glicko: SAINTSTEPHENSA },
                { name:"Trinity Prep A", glicko: TRINITYA },
                { name:"Mt. Spokane A", glicko: MTSPOKANEA },
                { name:"Mt. Spokane B", glicko: MTSPOKANEB },
                { name:"East Valley A", glicko: EASTVALLEYA },
                { name:"Ransom Everglades A", glicko: RANSOMA },
                { name:"Doral A", glicko: DORALA },
                { name:"Doral B", glicko: DORALB },
                { name:"Archimedean Upper Conservatory A", glicko: AUCA },
                { name:'Palmetto A', glicko: PALMETTOA },
                { name:"Palmetto B", glicko: PALMETTOB },
                { name:"Palmetto C", glicko: PALMETTOC },
                { name:"Palmetto D", glicko: PALMETTOD },
                { name:"Palmetto E", glicko: PALMETTOE },
                { name:"Palmetto F", glicko: PALMETTOF },
                { name:"Palmetto G", glicko: PALMETTOG },
                { name:"Palmetto H", glicko: PALMETTOH },
                { name:"Palmetto I", glicko: PALMETTOI },
                { name:'Millburn A', glicko: MILLBURNA },
                { name:'Millburn B', glicko: MILLBURNB },
                { name:'Hewlett A', glicko: HEWLETTA },
                { name:'Hewlett B', glicko: HEWLETTB },
                { name:'Princeton A', glicko: PRINCETONA },
                { name:'Princeton B', glicko: PRINCETONB },
                { name:'Ranney A', glicko: RANNEYA },
                { name:"Ranney B", glicko: RANNEYB },
                { name:"High Tech A", glicko: HIGHTECHA },
                { name:"Moravian A", glicko: MORAVIANA },
                { name:"Mountain Lakes A", glicko: MOUNTAINLAKESA },
                { name:"Kinnelon A", glicko: KINNELONA },
                { name:'Nichols A', glicko: NICHOLSA },
                { name:"Nichols B", glicko: NICHOLSB },
                { name:"Nichols C", glicko: NICHOLSC },
                { name:"Iroquois A", glicko: IROQUOISA },
                { name:"Bishop Ludden A", glicko: BISHOPLUDDENA },
                { name:"Bishop Ludden B", glicko: BISHOPLUDDENB },
                { name:'Amador Valley A', glicko: AMADORVALLEYA },
                { name:'American Heritage', glicko: AMERICANHERITAGEA },
                { name:'BASIS Scottsdale A', glicko: BASISSCOTTSDALEA },
                { name:'Boston Latin A', glicko: BOSTONLATINA },
                { name:'Buchholz A', glicko: BUCHHOLZA },
                { name:'California A', glicko: CALIFORNIA },
                { name:"Centennial A", glicko: CENTENNIALA },
                { name:"Centennial B", glicko: CENTENNIALB },
                { name:"DC Everest A", glicko: DCEVERESTA },
                { name:"DC Everest B", glicko: DCEVERESTB },
                { name:"DC Everest C", glicko: DCEVERESTC },
                { name:"DC Everest D", glicko: DCEVERESTD },
                { name:'DC Everest E', glicko: DCEVERESTE },
                { name:"Fairfax Christian", glicko: FAIRFAXCHRSITIANA },
                { name:"Fox Chapel A", glicko: FOXCHAPELA },
                { name:"Grovetown A", glicko: GROVETOWNA },
                { name:"Hingham A", glicko: HINGHAMA },
                { name:"Jesuit A", glicko: JESUITA },
                { name:'Methuen A', glicko: METHUENA },
                { name:'Mission San Jose A', glicko: MSJA },
                { name:'Mission San Jose B', glicko: MSJB },
                { name:'Newton North A', glicko: NEWTONNORTHA },
                { name:'Newton North B', glicko: NEWTONNORTHB },
                { name:'Newton South A', glicko: NEWTONSOUTHA },
                { name:'Oratory Prep A', glicko: ORATORYPREPA },
                { name:"Palo Alto A", glicko: PALOALTOA },
                { name:"Paramus A", glicko: PARAMUSA },
                { name:"Shaker A", glicko: SHAKERA },
                { name:"Shaker B", glicko: SHAKERB },
                { name:"Shaker C", glicko: SHAKERC },
                { name:'Stuyvesant A', glicko: STUYVESANTA },
                { name:"Montgomery Blair A", glicko: MBA },
                { name:"Tenafly A", glicko: TENAFLYA },
                { name:"Van Nuys A", glicko: VANNUYSA },
                { name:'IMSA', glicko: IMSAA },
                { name:'Stevenson A', glicko: STEVENSONA },
                { name:'Stevenson B', glicko: STEVENSONB },
                { name:'Jefferson A', glicko: JEFFERSONA },
                { name:'Winnebago A', glicko: WINNEBAGOA },
                { name:"Punahou A", glicko: PUNAHOUA },
                { name:"Punahou B", glicko: PUNAHOUB },
                { name:"Iolani A", glicko: IOLANIA },
                { name:"Iolani B", glicko: IOLANIB },
                { name:"Iolani C", glicko: IOLANIC },
                { name:"Iolani D", glicko: IOLANID },
                { name:'Iolani E', glicko: IOLANIE },
                { name:"Episcopal Baton Rouge", glicko: EPISCOPALBATONROUGEA },
                { name:"STEM Academy A", glicko: STEMACADEMYA },
                { name:"STEM Academy B", glicko: STEMACADEMYB }
            ];

            console.log(players)

            function showRankings(){
                //Sort players
                players.sort(function(pl1, pl2){ return pl2.glicko.getRating() - pl1.glicko.getRating(); });

                //Display ratings
                let j = 0;
                for (var i=0,len= players.length;i<len;i++){
                    player = players[i];
                    if((player.glicko.getRating()!=1500)/*&&(player.glicko.getRd()<=100)*/){
                        j+=1;
                        document.write(j+". "+player.name + ' : ' + player.glicko.getRating() + ' (rd : ' + player.glicko.getRd() + ')<br>');
                    }
                }   
            }
       </script>
    </head>

    <body>
        <h2>Initial rankings</h2>
        <script>
            //showRankings();
            async function gameData(startId,endId,tournamentId){
                var docRef = db.collection("hbtournaments").doc(tournamentId);
                await docRef.get().then(async function(doc) {
                    if(doc.exists) {
                        aPPG=doc.data().adjustedPPG;
                    } else {
                        // doc.data() will be undefined in this case
                        console.log("No such document!");
                    }
                }).catch(function(error) {
                    console.log("Error getting document:", error);
                });

                for(let Id = startId; Id < endId; Id++) {
                    await firebase.database().ref('1by_pavmhgpNXhU2bY4SsxgA9oxH6xgHfVF27JGZwo1I/'+tournamentId+'/'+Id).once('value').then(function(snapshot) {
                        A = (snapshot.val() && snapshot.val().A);
                        //console.log(A);
                    });
                    await firebase.database().ref('1by_pavmhgpNXhU2bY4SsxgA9oxH6xgHfVF27JGZwo1I/'+tournamentId+'/'+Id).once('value').then(function(snapshot) {
                        AScore = (snapshot.val() && snapshot.val().AScore)
                        //console.log(AScore);
                    });
                    await firebase.database().ref('1by_pavmhgpNXhU2bY4SsxgA9oxH6xgHfVF27JGZwo1I/'+tournamentId+'/'+Id).once('value').then(function(snapshot) {
                        B = (snapshot.val() && snapshot.val().B)
                    });
                    await firebase.database().ref('1by_pavmhgpNXhU2bY4SsxgA9oxH6xgHfVF27JGZwo1I/'+tournamentId+'/'+Id).once('value').then(function(snapshot) {
                        BScore = (snapshot.val() && snapshot.val().BScore)
                    });
                
        game = [];
        switch(A){
            case "Team Westmonster":
                game.push(WESTMINSTERA);
                break;
            case "Chattahoochee":
                game.push(CHATTAHOOCHEEA);
                break;
            case "Apalachee":
                game.push(APALACHEEA);
                break;
            case "Fulton Science Academy":
                game.push(FULTONSCIENCEA);
                break;
            case "George Walton Academy":
                game.push(GEORGEWALTONA);
                break;
            case "Johns Creek":
                game.push(JOHNSCREEKA);
                break;
            case "Hewitt-Trussville":
                game.push(HEWITTA);
                break;
            case "Starr's Mill A":
                game.push(STARRSMILLA);
                break;
            case "Starr's Mill B":
                game.push(STARRSMILLB);
                break;
            case "Starr's Mill C":
                game.push(STARRSMILLC);
                break;
            case "Manatee A":
                game.push(MANATEEA);
                break;
            case "Manatee B":
                game.push(MANATEEB);
                break;
            case "Riverview A":
                game.push(RIVERVIEWA);
                break;
            case "Riverview B":
                game.push(RIVERVIEWB);
                break;
            case "Hillsborough A":
                game.push(HILLSBOROUGHA);
                break;
            case "Hillsborough B":
                game.push(HILLSBOROUGHB);
                break;
            case "Largo A":
                game.push(LARGOA);
                break;
            case "Largo B":
                game.push(LARGOB);
                break;
            case "Trinity Prep A":
                game.push(TRINITYA);
                break;
            case "St. Stephen's A":
                game.push(SAINTSTEPHENSA);
                break;
            case "Mt. Spokane A":
                game.push(MTSPOKANEA);
                break;
            case "Mt. Spokane B":
                game.push(MTSPOKANEB);
                break;
            case "East Valley A":
                game.push(EASTVALLEYA);
                break;
            case "Ransom A":
                game.push(RANSOMA);
                break;
            case "AUC A":
                game.push(AUCA);
                break;
            case "Doral A":
                game.push(DORALA);
                break;
            case "Doral B":
                game.push(DORALB);
                break;
            case "Palmetto A":
                game.push(PALMETTOA);
                break;
            case "Palmetto B":
                game.push(PALMETTOB);
                break;
            case "Palmetto C":
                game.push(PALMETTOC);
                break;
            case "Palmetto D":
                game.push(PALMETTOD);
                break;
            case "Palmetto E":
                game.push(PALMETTOE);
                break;
            case "Palmetto F":
                game.push(PALMETTOF);
                break;
            case "Palmetto G":
                game.push(PALMETTOG);
                break;
            case "Palmetto H":
                game.push(PALMETTOH);
                break;
            case "Palmetto I":
                game.push(PALMETTOI);
                break;
            case "Millburn A":
                game.push(MILLBURNA);
                break;
            case "Millburn B":
                game.push(MILLBURNB);
                break;
            case "Ranney A":
                game.push(RANNEYA);
                break;
            case "Ranney B":
                game.push(RANNEYB);
                break;
            case "Hewlett A":
                game.push(HEWLETTA);
                break;
            case "Hewlett B":
                game.push(HEWLETTB);
                break;
            case "Princeton A":
                game.push(PRINCETONA);
                break;
            case "Princeton B":
                game.push(PRINCETONB);
                break;
            case "High Tech":
                game.push(TRINITYA);
                break;
            case "Moravian":
                game.push(MORAVIANA);
                break;
            case "Mountain Lakes A":
                game.push(MOUNTAINLAKESA);
                break;
            case "Kinnelon":
                game.push(KINNELONA);
                break;
            case "Nichols A":
                game.push(NICHOLSA);
                break;
            case "Nichols B":
                game.push(NICHOLSB);
                break;
            case "Nichols C":
                game.push(NICHOLSC);
                break;
            case "Iroquois":
                game.push(IROQUOISA);
                break;
            case "Bishop Ludden A":
                game.push(BISHOPLUDDENA);
                break;
            case "Bishop Ludden B":
                game.push(BISHOPLUDDENB);
                break;
            case "Amador Valley":
                game.push(AMADORVALLEYA);
                break;
            case "American Heritage A":
                game.push(AMERICANHERITAGEA);
                break;
            case "BASIS Scottsdale":
                game.push(BASISSCOTTSDALEA);
                break;
            case "BASIS Scottsdale A":
                game.push(BASISSCOTTSDALEA);
                break;
            case "Boston Latin A":
                game.push(BOSTONLATINA);
                break;
            case "Buchholz A":
                game.push(BUCHHOLZA);
                break;
            case "California":
                game.push(CALIFORNIA);
                break;
            case "Centennial A":
                game.push(CENTENNIALA);
                break;
            case "Centennial B":
                game.push(CENTENNIALB);
                break;
            case "DC Everest A":
                game.push(DCEVERESTA);
                break;
            case "DC Everest B":
                game.push(DCEVERESTB);
                break;
            case "DC Everest C":
                game.push(DCEVERESTC);
                break;
            case "DC Everest D":
                game.push(DCEVERESTD);
                break;
            case "DC Everest E":
                game.push(DCEVERESTE);
                break;
            case "Fairfax Christian":
                game.push(FAIRFAXCHRSITIANA);
                break;
            case "Fox Chapel":
                game.push(FOXCHAPELA);
                break;
            case "Grovetown":
                game.push(GROVETOWNA);
                break;
            case "Hingham":
                game.push(HINGHAMA);
                break;
            case "Jesuit":
                game.push(JESUITA);
                break;
            case "Methuen":
                game.push(METHUENA);
                break;
            case "Mission San Jose A":
                game.push(MSJA);
                break;
            case "Mission San Jose B":
                game.push(MSJB);
                break;
            case "Newton North A":
                game.push(NEWTONNORTHA);
                break;
            case "Newton North B":
                game.push(NEWTONNORTHB);
                break;
            case "Newton South":
                game.push(NEWTONSOUTHA);
                break;
            case "Oratory Prep":
                game.push(ORATORYPREPA);
                break;
            case "Palo Alto":
                game.push(PALOALTOA);
                break;
            case "Paramus":
                game.push(PARAMUSA);
                break;
            case "Shaker A":
                game.push(SHAKERA);
                break;
            case "Shaker B":
                game.push(SHAKERB);
                break;
            case "Shaker C":
                game.push(SHAKERC);
                break;
            case "Stuyvesant A":
                game.push(STUYVESANTA);
                break;
            case "MB A":
                game.push(MBA);
                break;
            case "Tenafly A":
                game.push(TENAFLYA);
                break;
            case "Van Nuys":
                game.push(VANNUYSA);
                break;
            case "ISMA":
                game.push(IMSAA);
                break;
            case "Stevenson A":
                game.push(STEVENSONA);
                break;
            case "Stevenson B":
                game.push(STEVENSONB);
                break;
            case "Jefferson":
                game.push(JEFFERSONA);
                break;
            case "Winnebago":
                game.push(WINNEBAGOA);
                break;
            case "Punahou A":
                game.push(PUNAHOUA);
                break;
            case "Punahou B":
                game.push(PUNAHOUB);
                break;
            case "Iolani A":
                game.push(IOLANIA);
                break;
            case "Iolani B":
                game.push(IOLANIB);
                break;
            case "Iolani C":
                game.push(IOLANIC);
                break;
            case "Iolani D":
                game.push(IOLANID);
                break;
            case "Iolani E":
                game.push(IOLANIE);
                break;
            case "Episcopal Baton Rouge":
                game.push(EPISCOPALBATONROUGEA);
                break;
            case "STEM Academy A":
                game.push(STEMACADEMYA);
                break;
            case "STEM Academy B":
                game.push(STEMACADEMYB);
                break;
        }

        switch(B){
            case "Team Westmonster":
                game.push(WESTMINSTERA);
                break;
            case "Chattahoochee":
                game.push(CHATTAHOOCHEEA);
                break;
            case "Apalachee":
                game.push(APALACHEEA);
                break;
            case "Fulton Science Academy":
                game.push(FULTONSCIENCEA);
                break;
            case "George Walton Academy":
                game.push(GEORGEWALTONA);
                break;
            case "Johns Creek":
                game.push(JOHNSCREEKA);
                break;
            case "Hewitt-Trussville":
                game.push(HEWITTA);
                break;
            case "Starr's Mill A":
                game.push(STARRSMILLA);
                break;
            case "Starr's Mill B":
                game.push(STARRSMILLB);
                break;
            case "Starr's Mill C":
                game.push(STARRSMILLC);
                break;
            case "Manatee A":
                game.push(MANATEEA);
                break;
            case "Manatee B":
                game.push(MANATEEB);
                break;
            case "Riverview A":
                game.push(RIVERVIEWA);
                break;
            case "Riverview B":
                game.push(RIVERVIEWB);
                break;
            case "Hillsborough A":
                game.push(HILLSBOROUGHA);
                break;
            case "Hillsborough B":
                game.push(HILLSBOROUGHB);
                break;
            case "Largo A":
                game.push(LARGOA);
                break;
            case "Largo B":
                game.push(LARGOB);
                break;
            case "Trinity Prep A":
                game.push(TRINITYA);
                break;
            case "St. Stephen's A":
                game.push(SAINTSTEPHENSA);
                break;
            case "Mt. Spokane A":
                game.push(MTSPOKANEA);
                break;
            case "Mt. Spokane B":
                game.push(MTSPOKANEB);
                break;
            case "East Valley A":
                game.push(EASTVALLEYA);
                break;
            case "Ransom A":
                game.push(RANSOMA);
                break;
            case "AUC A":
                game.push(AUCA);
                break;
            case "Doral A":
                game.push(DORALA);
                break;
            case "Doral B":
                game.push(DORALB);
                break;
            case "Palmetto A":
                game.push(PALMETTOA);
                break;
            case "Palmetto B":
                game.push(PALMETTOB);
                break;
            case "Palmetto C":
                game.push(PALMETTOC);
                break;
            case "Palmetto D":
                game.push(PALMETTOD);
                break;
            case "Palmetto E":
                game.push(PALMETTOE);
                break;
            case "Palmetto F":
                game.push(PALMETTOF);
                break;
            case "Palmetto G":
                game.push(PALMETTOG);
                break;
            case "Palmetto H":
                game.push(PALMETTOH);
                break;
            case "Palmetto I":
                game.push(PALMETTOI);
                break;
            case "Millburn A":
                game.push(MILLBURNA);
                break;
            case "Millburn B":
                game.push(MILLBURNB);
                break;
            case "Ranney A":
                game.push(RANNEYA);
                break;
            case "Ranney B":
                game.push(RANNEYB);
                break;
            case "Hewlett A":
                game.push(HEWLETTA);
                break;
            case "Hewlett B":
                game.push(HEWLETTB);
                break;
            case "Princeton A":
                game.push(PRINCETONA);
                break;
            case "Princeton B":
                game.push(PRINCETONB);
                break;
            case "High Tech":
                game.push(TRINITYA);
                break;
            case "Moravian":
                game.push(MORAVIANA);
                break;
            case "Mountain Lakes A":
                game.push(MOUNTAINLAKESA);
                break;
            case "Kinnelon":
                game.push(KINNELONA);
                break;
            case "Nichols A":
                game.push(NICHOLSA);
                break;
            case "Nichols B":
                game.push(NICHOLSB);
                break;
            case "Nichols C":
                game.push(NICHOLSC);
                break;
            case "Iroquois":
                game.push(IROQUOISA);
                break;
            case "Bishop Ludden A":
                game.push(BISHOPLUDDENA);
                break;
            case "Bishop Ludden B":
                game.push(BISHOPLUDDENB);
                break;
            case "Amador Valley":
                game.push(AMADORVALLEYA);
                break;
            case "American Heritage A":
                game.push(AMERICANHERITAGEA);
                break;
            case "BASIS Scottsdale":
                game.push(BASISSCOTTSDALEA);
                break;
            case "BASIS Scottsdale A":
                game.push(BASISSCOTTSDALEA);
                break;
            case "Boston Latin A":
                game.push(BOSTONLATINA);
                break;
            case "Buchholz A":
                game.push(BUCHHOLZA);
                break;
            case "California":
                game.push(CALIFORNIA);
                break;
            case "Centennial A":
                game.push(CENTENNIALA);
                break;
            case "Centennial B":
                game.push(CENTENNIALB);
                break;
            case "DC Everest A":
                game.push(DCEVERESTA);
                break;
            case "DC Everest B":
                game.push(DCEVERESTB);
                break;
            case "DC Everest C":
                game.push(DCEVERESTC);
                break;
            case "DC Everest D":
                game.push(DCEVERESTD);
                break;
            case "DC Everest E":
                game.push(DCEVERESTE);
                break;
            case "Fairfax Christian":
                game.push(FAIRFAXCHRSITIANA);
                break;
            case "Fox Chapel":
                game.push(FOXCHAPELA);
                break;
            case "Grovetown":
                game.push(GROVETOWNA);
                break;
            case "Hingham":
                game.push(HINGHAMA);
                break;
            case "Jesuit":
                game.push(JESUITA);
                break;
            case "Methuen":
                game.push(METHUENA);
                break;
            case "Mission San Jose A":
                game.push(MSJA);
                break;
            case "Mission San Jose B":
                game.push(MSJB);
                break;
            case "Newton North A":
                game.push(NEWTONNORTHA);
                break;
            case "Newton North B":
                game.push(NEWTONNORTHB);
                break;
            case "Newton South":
                game.push(NEWTONSOUTHA);
                break;
            case "Oratory Prep":
                game.push(ORATORYPREPA);
                break;
            case "Palo Alto":
                game.push(PALOALTOA);
                break;
            case "Paramus":
                game.push(PARAMUSA);
                break;
            case "Shaker A":
                game.push(SHAKERA);
                break;
            case "Shaker B":
                game.push(SHAKERB);
                break;
            case "Shaker C":
                game.push(SHAKERC);
                break;
            case "Stuyvesant A":
                game.push(STUYVESANTA);
                break;
            case "MB A":
                game.push(MBA);
                break;
            case "Tenafly A":
                game.push(TENAFLYA);
                break;
            case "Van Nuys":
                game.push(VANNUYSA);
                break;
            case "ISMA":
                game.push(IMSAA);
                break;
            case "Stevenson A":
                game.push(STEVENSONA);
                break;
            case "Stevenson B":
                game.push(STEVENSONB);
                break;
            case "Jefferson":
                game.push(JEFFERSONA);
                break;
            case "Winnebago":
                game.push(WINNEBAGOA);
                break;
            case "Punahou A":
                game.push(PUNAHOUA);
                break;
            case "Punahou B":
                game.push(PUNAHOUB);
                break;
            case "Iolani A":
                game.push(IOLANIA);
                break;
            case "Iolani B":
                game.push(IOLANIB);
                break;
            case "Iolani C":
                game.push(IOLANIC);
                break;
            case "Iolani D":
                game.push(IOLANID);
                break;
            case "Iolani E":
                game.push(IOLANIE);
                break;
            case "Episcopal Baton Rouge":
                game.push(EPISCOPALBATONROUGEA);
                break;
            case "STEM Academy A":
                game.push(STEMACADEMYA);
                break;
            case "STEM Academy B":
                game.push(STEMACADEMYB);
                break;
        }
        //TODO -- figure out if T/S are neccessarry & if so add them to glicko2.js somewhere
        //addedum -- T/S cannot be a rerun, far too ineffecient, possible to just scrape AS/BS columns and analyze the values?
        score = AScore/(AScore+BScore);
        game.push(score);
        console.log(A,B,score);
        matches.push(game);
    }
}

        </script>
        <script>
            var matches = [];
            async function tournaments2022(){
                matches = [];
                await gameData(1,29,"H-V-NGF-DATA","C");     
                setTimeout(function(){ alert("glicko.updateRatings(matches);"); }, 000);
                await gameData(1,31,"H-V-CFF-DATA","C");     
                setTimeout(function(){ alert("glicko.updateRatings(matches);"); }, 000);
                await gameData(1,7,"H-V-EWA-DATA","C");     
                setTimeout(function(){ alert("glicko.updateRatings(matches);"); }, 000);
                await gameData(1,44,"H-V-SFF-DATA","C");     
                setTimeout(function(){ alert("glicko.updateRatings(matches);"); }, 000);
                await gameData(1,36,"H-V-NNJ-DATA","C");     
                setTimeout(function(){ alert("glicko.updateRatings(matches);"); }, 000);   
                await gameData(1,17,"H-V-BUF-DATA","C");   
                setTimeout(function(){ alert("glicko.updateRatings(matches);"); }, 000); 
                await gameData(1,95,"H-V-ONL-DATA","C");      
                setTimeout(function(){ alert("glicko.updateRatings(matches);"); }, 000); 
                await gameData(1,14,"H-V-NIL-DATA","C");      
                setTimeout(function(){ alert("glicko.updateRatings(matches);"); }, 000); 
                await gameData(1,13,"H-V-OHU-DATA","C");      
                setTimeout(function(){ alert("glicko.updateRatings(matches);"); }, 000); 
                await gameData(1,7,"H-V-ACA-DATA","C");      
                setTimeout(function(){ alert("glicko.updateRatings(matches);"); }, 000); 
                setTimeout(function(){ alert("showRankings();"); }, 300);
            }
            tournaments2022();
        </script>
     </body>
</html>